const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-1765759384496-index.js","assets/entry-1765759384261-index.js","assets/asset-1765759384970-index.css"])))=>i.map(i=>d[i]);
import{r as n,j as e,_ as b}from"./entry-1765759384261-index.js";const k=({isOpen:g,onClose:c})=>{const[l,d]=n.useState("free"),[o,j]=n.useState(!1),[p,m]=n.useState(""),[u,f]=n.useState(!1),h=[{id:"free",name:"Free",price:0,billing:"",features:["âœ… All basic tracking","âœ… 10 AI messages/day","âœ… 3 food scans/day","âœ… 1 AR scan/week","âœ… Community access","âœ… 1 social battle","âŒ No ads removal","âŒ Limited features"]},{id:"essential",name:"Essential",price:4.99,billing:"per month",stripeLink:"https://buy.stripe.com/fZu14m12T9sycf67Yk6kg09",features:["âœ… NO ADS","âœ… 30 AI messages/day","âœ… 1 AR scan/day","âœ… Weekly avatar update","âœ… Basic DNA insights","âœ… Social battles","âœ… Emergency contact","âœ… Offline tracking","âœ… Email support (24hr)","âœ… Heart rate tracking","âœ… Sleep analysis","âœ… Workout library","âœ… Meditation & breathing","âŒ No meal automation"],popular:!0},{id:"premium",name:"Premium",price:14.99,billing:"per month",stripeLink:"https://buy.stripe.com/7sY8wOcLBfQW3IA92o6kg07",features:["âœ… Everything in Essential","âœ… 50 AI messages/day","âœ… 100 AR credits/month","âœ… Full DNA analysis","âœ… Unlimited avatar","âœ… Meal automation","âœ… Family 3 members","âœ… Priority chat (2hr response)","âœ… Health data export (PDF)","âŒ No API access"]},{id:"ultimate",name:"Ultimate",price:29.99,billing:"per month",stripeLink:"https://buy.stripe.com/5kQ9ASeTJfQW7YQ6Ug6kg08",features:["âœ… UNLIMITED AI messages","âœ… UNLIMITED AR scans","âœ… Everything in Premium","âœ… 1-on-1 coaching (30 min/mo)","âœ… White-label reports (PDF)","âœ… API access (1K calls/mo)","âœ… Phone support (9am-6pm)","âœ… Family 5 members","âœ… Priority onboarding"]}],y=async s=>{if(s==="free"){localStorage.setItem("subscription_plan","free"),f(!0),setTimeout(()=>{c(),window.location.reload()},1500);return}const a={essential:"essential",premium:"premium",ultimate:"vip"},i=h.find(t=>t.id===s);if(!i){m("Plan not found. Please try again.");return}if(!i.stripeLink||i.stripeLink.includes("undefined")){m("Payment link not configured. Contact support.");return}const x=a[s]||s;localStorage.setItem("pending_subscription_plan",x),localStorage.setItem("pending_subscription_time",new Date().toISOString());try{const{Browser:t}=await b(async()=>{const{Browser:r}=await import("./chunk-1765759384496-index.js");return{Browser:r}},__vite__mapDeps([0,1,2]));await t.open({url:i.stripeLink,presentationStyle:"popover"})}catch{const r=window.open(i.stripeLink,"_blank");(!r||r.closed||typeof r.closed>"u")&&(window.location.href=i.stripeLink)}};return g?e.jsx("div",{className:"stripe-overlay",onClick:c,children:e.jsxs("div",{className:"stripe-modal",onClick:s=>s.stopPropagation(),children:[e.jsx("button",{className:"stripe-close",onClick:c,children:"âœ•"}),e.jsxs("div",{className:"stripe-header",children:[e.jsx("h2",{children:"ğŸ’ Upgrade Your Wellness"}),e.jsx("p",{children:"Choose the plan that fits your health goals"})]}),u&&e.jsxs("div",{className:"stripe-success",children:[e.jsx("div",{className:"success-icon",children:"âœ…"}),e.jsx("h3",{children:"Payment Successful!"}),e.jsx("p",{children:"Your subscription is now active. Reloading app..."})]}),!u&&e.jsxs(e.Fragment,{children:[p&&e.jsxs("div",{className:"stripe-error",children:[e.jsx("span",{children:"âš ï¸"})," ",p]}),e.jsx("div",{className:"stripe-plans",children:h.map(s=>e.jsxs("div",{className:`stripe-plan ${l===s.id?"selected":""} ${s.popular?"popular":""}`,onClick:()=>d(s.id),children:[s.popular&&e.jsx("div",{className:"popular-badge",children:"ğŸ”¥ MOST POPULAR"}),e.jsx("h3",{children:s.name}),e.jsx("div",{className:"plan-price",children:s.price===0?e.jsx("span",{className:"price-free",children:"FREE"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"price-currency",children:"Â£"}),e.jsx("span",{className:"price-amount",children:s.price.toFixed(2)}),s.billing&&e.jsxs("span",{className:"price-period",children:["/",s.billing.replace("per ","")]}),s.savings&&e.jsx("span",{className:"price-savings",children:s.savings})]})}),e.jsx("ul",{className:"plan-features",children:s.features.map((a,i)=>e.jsx("li",{children:a},i))}),e.jsx("button",{className:`plan-button ${o&&l===s.id?"loading":""}`,onClick:a=>{a.stopPropagation(),d(s.id),y(s.id)},disabled:o,children:o&&l===s.id?e.jsx("span",{className:"button-loader",children:"â³ Processing..."}):s.price===0?"âœ“ Current Plan":"ğŸ’³ Subscribe Now"})]},s.id))}),e.jsxs("div",{className:"stripe-footer",children:[e.jsx("p",{children:"ğŸ”’ Secure payment powered by Stripe"}),e.jsx("p",{className:"footer-note",children:"Cancel anytime â€¢ No hidden fees â€¢ 7-day money-back guarantee"})]})]})]})}):null};export{k as default};

import{r as n,j as s}from"./entry-1765892656001-index.js";import m from"./chunk-1765892656004-SocialBattles.js";import"./chunk-1765892656004-socialBattlesService.js";import"./chunk-1765892656004-healthAvatarService.js";function N({isOpen:t,onClose:e}){const[r,l]=n.useState(!1),[c,o]=n.useState({activeBattles:0,wins:0,rank:0});n.useEffect(()=>{t&&d()},[t]);const d=()=>{try{const a=JSON.parse(localStorage.getItem("active_battles")||"[]"),i=JSON.parse(localStorage.getItem("user_profile")||"{}");o({activeBattles:a.length,wins:i.battleWins||0,rank:i.globalRank||0})}catch{}};return t?r?s.jsx(m,{isOpen:!0,onClose:()=>{l(!1),e()}}):s.jsx("div",{className:"modal-overlay",onClick:e,children:s.jsxs("div",{className:"battles-modal",onClick:a=>a.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"ðŸ† Battles"}),s.jsx("button",{className:"close-btn",onClick:e,children:"âœ•"})]}),s.jsxs("div",{className:"battles-hero",children:[s.jsx("div",{className:"hero-icon",children:"âš”ï¸"}),s.jsx("h3",{children:"Compete & Win"}),s.jsx("p",{children:"Challenge friends in fitness battles"})]}),s.jsxs("div",{className:"battles-quick-stats",children:[s.jsxs("div",{className:"quick-stat-card",children:[s.jsx("span",{className:"stat-icon",children:"ðŸŽ¯"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("span",{className:"stat-number",children:c.activeBattles}),s.jsx("span",{className:"stat-label",children:"Active"})]})]}),s.jsxs("div",{className:"quick-stat-card",children:[s.jsx("span",{className:"stat-icon",children:"ðŸ†"}),s.jsxs("div",{className:"stat-content",children:[s.jsx("span",{className:"stat-number",children:c.wins}),s.jsx("span",{className:"stat-label",children:"Wins"})]})]}),s.jsxs("div",{className:"quick-stat-card",children:[s.jsx("span",{className:"stat-icon",children:"ðŸ“Š"}),s.jsxs("div",{className:"stat-content",children:[s.jsxs("span",{className:"stat-number",children:["#",c.rank||"---"]}),s.jsx("span",{className:"stat-label",children:"Rank"})]})]})]}),s.jsxs("div",{className:"battles-actions",children:[s.jsx("button",{className:"primary-action-btn",onClick:()=>l(!0),children:"âš”ï¸ Start Battle"}),s.jsx("button",{className:"secondary-action-btn",onClick:()=>l(!0),children:"ðŸ‘¥ View All Battles"})]}),s.jsx("div",{className:"battles-info",children:s.jsx("p",{children:"ðŸ’¡ Challenge friends to step, workout, or calorie burn battles!"})})]})}):null}export{N as default};

import{r as i,j as e}from"./entry-1765759384261-index.js";function S({isOpen:o,onClose:n,todaySteps:d=0}){const[u,g]=i.useState({steps:{current:0,target:1e4,unit:"steps"},water:{current:0,target:8,unit:"cups"},meals:{current:0,target:3,unit:"meals"},sleep:{current:0,target:8,unit:"hours"},workouts:{current:0,target:1,unit:"workout"}});i.useEffect(()=>{o&&p()},[o]);const p=()=>{try{const s=new Date().toISOString().split("T")[0],t=JSON.parse(localStorage.getItem("workoutHistory")||"[]"),r=JSON.parse(localStorage.getItem("foodLog")||"[]"),l=JSON.parse(localStorage.getItem("waterLog")||"[]"),x=JSON.parse(localStorage.getItem("sleepLog")||"[]"),j=t.filter(a=>a.date===s).length,N=r.filter(a=>a.date===s).length,k=l.filter(a=>a.date===s).reduce((a,f)=>a+(f.cups||1),0),c=x.find(a=>a.date===s),y=c&&(c.duration||c.hours)||0;g({steps:{current:d,target:1e4,unit:"steps"},water:{current:k,target:8,unit:"cups"},meals:{current:N,target:3,unit:"meals"},sleep:{current:y,target:8,unit:"hours"},workouts:{current:j,target:1,unit:"workout"}})}catch{}},m=(s,t)=>Math.min(s/t*100,100);if(!o)return null;const h=[{key:"steps",icon:"ðŸ‘Ÿ",label:"Steps",color:"#4cc9f0"},{key:"water",icon:"ðŸ’§",label:"Water",color:"#4361ee"},{key:"meals",icon:"ðŸ½ï¸",label:"Meals",color:"#43e97b"},{key:"sleep",icon:"ðŸ˜´",label:"Sleep",color:"#f093fb"},{key:"workouts",icon:"ðŸ’ª",label:"Workouts",color:"#ff6b6b"}];return e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"goals-modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"ðŸŽ¯ Goals"}),e.jsx("button",{className:"close-btn",onClick:n,children:"âœ•"})]}),e.jsxs("div",{className:"goals-hero",children:[e.jsx("div",{className:"hero-icon",children:"ðŸŽ¯"}),e.jsx("h3",{children:"Today's Goals"}),e.jsx("p",{children:"Track your daily wellness targets"})]}),e.jsx("div",{className:"goals-list",children:h.map(s=>{const t=u[s.key],r=m(t.current,t.target),l=r>=100;return e.jsxs("div",{className:"goal-item",children:[e.jsxs("div",{className:"goal-header",children:[e.jsx("span",{className:"goal-icon",children:s.icon}),e.jsx("span",{className:"goal-label",children:s.label}),l&&e.jsx("span",{className:"goal-check",children:"âœ…"})]}),e.jsx("div",{className:"goal-progress",children:e.jsx("div",{className:"goal-progress-fill",style:{width:`${r}%`,background:s.color}})}),e.jsxs("div",{className:"goal-stats",children:[e.jsx("span",{className:"goal-current",children:t.current.toLocaleString()}),e.jsx("span",{className:"goal-separator",children:"/"}),e.jsxs("span",{className:"goal-target",children:[t.target.toLocaleString()," ",t.unit]})]})]},s.key)})}),e.jsx("div",{className:"goals-info",children:e.jsx("p",{children:"ðŸ’¡ Complete all goals to earn bonus XP!"})})]})})}export{S as default};

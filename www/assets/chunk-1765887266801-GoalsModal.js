import{r as n,j as e}from"./entry-1765887266798-index.js";function I({isOpen:o,onClose:i,todaySteps:d=0}){const[p,m]=n.useState({steps:{current:0,target:1e4,unit:"steps"},water:{current:0,target:8,unit:"cups"},meals:{current:0,target:3,unit:"meals"},sleep:{current:0,target:8,unit:"hours"},workouts:{current:0,target:1,unit:"workout"}}),[u,h]=n.useState(new Date().toISOString().split("T")[0]);n.useEffect(()=>{if(o){g();const t=setInterval(()=>{const s=new Date().toISOString().split("T")[0];s!==u&&h(s),g()},2e3);return()=>clearInterval(t)}},[o,d,u]);const g=()=>{try{const t=new Date().toISOString().split("T")[0],s=JSON.parse(localStorage.getItem("workoutHistory")||"[]"),r=JSON.parse(localStorage.getItem("foodLog")||"[]"),l=JSON.parse(localStorage.getItem("waterLog")||"[]"),N=JSON.parse(localStorage.getItem("sleepLog")||"[]"),k=s.filter(a=>a.date===t).length,f=r.filter(a=>a.date===t).length,w=l.filter(a=>a.date===t).reduce((a,S)=>a+(S.cups||1),0),c=N.find(a=>a.date===t),y=c&&(c.duration||c.hours)||0;m({steps:{current:d,target:1e4,unit:"steps"},water:{current:w,target:8,unit:"cups"},meals:{current:f,target:3,unit:"meals"},sleep:{current:y,target:8,unit:"hours"},workouts:{current:k,target:1,unit:"workout"}})}catch{}},x=(t,s)=>Math.min(t/s*100,100);if(!o)return null;const j=[{key:"steps",icon:"ðŸ‘Ÿ",label:"Steps",color:"#4cc9f0"},{key:"water",icon:"ðŸ’§",label:"Water",color:"#4361ee"},{key:"meals",icon:"ðŸ½ï¸",label:"Meals",color:"#43e97b"},{key:"sleep",icon:"ðŸ˜´",label:"Sleep",color:"#f093fb"},{key:"workouts",icon:"ðŸ’ª",label:"Workouts",color:"#ff6b6b"}];return e.jsx("div",{className:"modal-overlay",onClick:i,children:e.jsxs("div",{className:"goals-modal",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"ðŸŽ¯ Goals"}),e.jsx("button",{className:"close-btn",onClick:i,children:"âœ•"})]}),e.jsxs("div",{className:"goals-hero",children:[e.jsx("div",{className:"hero-icon",children:"ðŸŽ¯"}),e.jsx("h3",{children:"Today's Goals"}),e.jsx("p",{children:"Track your daily wellness targets"})]}),e.jsx("div",{className:"goals-list",children:j.map(t=>{const s=p[t.key],r=x(s.current,s.target),l=r>=100;return e.jsxs("div",{className:"goal-item",children:[e.jsxs("div",{className:"goal-header",children:[e.jsx("span",{className:"goal-icon",children:t.icon}),e.jsx("span",{className:"goal-label",children:t.label}),l&&e.jsx("span",{className:"goal-check",children:"âœ…"})]}),e.jsx("div",{className:"goal-progress",children:e.jsx("div",{className:"goal-progress-fill",style:{width:`${r}%`,background:t.color}})}),e.jsxs("div",{className:"goal-stats",children:[e.jsx("span",{className:"goal-current",children:s.current.toLocaleString()}),e.jsx("span",{className:"goal-separator",children:"/"}),e.jsxs("span",{className:"goal-target",children:[s.target.toLocaleString()," ",s.unit]})]})]},t.key)})}),e.jsx("div",{className:"goals-info",children:e.jsx("p",{children:"ðŸ’¡ Complete all goals to earn bonus XP!"})})]})})}export{I as default};

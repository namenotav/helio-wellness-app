import{r as a,g as n,j as s}from"./entry-1765887266798-index.js";function I({user:c,onOpenSettings:X,onOpenPremium:r,onOpenHealthTools:p,onOpenDataManagement:N,onOpenSocialFeatures:v,onOpenSettingsHub:u,onEditProfile:g,onOpenFullStats:k}){const[f,o]=a.useState(1),[b,d]=a.useState(0),[i,m]=a.useState([]),[l,h]=a.useState({}),[S,x]=a.useState(!0);a.useEffect(()=>{A()},[]);const A=async()=>{try{x(!0),await n.loadData();const e=n.getLevelInfo();o(e?.level||1),d(e?.totalXP||0);const P=n.getAllAchievements().map(t=>({id:t.id,icon:t.icon,name:t.name,locked:!t.unlocked}));m(P);const y=n.getStreakInfo(),C=JSON.parse(localStorage.getItem("workoutHistory")||"[]"),L=JSON.parse(localStorage.getItem("foodLog")||"[]");h({streak:y?.streak||0,totalXP:e?.totalXP||0,workouts:C.length,meals:L.length})}catch(e){console.error("âŒ [ProfileTabRedesign] Error loading gamification data:",e),o(1),d(0),m([]),h({streak:0,totalXP:0,workouts:0,meals:0})}finally{x(!1)}};return s.jsxs("div",{className:"profile-tab-redesign",children:[S?s.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#888"},children:[s.jsx("div",{style:{fontSize:"32px",marginBottom:"10px"},children:"â³"}),s.jsx("div",{children:"Loading your progress..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"profile-header",children:[s.jsxs("div",{className:"profile-avatar",children:[s.jsx("span",{className:"avatar-emoji",children:c?.avatar||"ðŸ‘¤"}),s.jsx("div",{className:"level-badge",children:s.jsxs("span",{className:"level-text",children:["LVL ",f]})})]}),s.jsx("h2",{className:"profile-name",children:c?.name||c?.profile?.name||"Wellness Warrior"}),s.jsxs("p",{className:"profile-subtitle",children:[b," XP â€¢ ",i.filter(e=>!e.locked).length," Achievements"]})]}),s.jsxs("div",{className:"achievements-section",children:[s.jsx("h3",{className:"section-title",children:"ðŸ† Achievements"}),s.jsx("div",{className:"achievements-grid",children:i.length>0?i.map((e,j)=>s.jsxs("div",{className:`achievement-badge ${e.locked?"locked":""}`,title:e.name,children:[s.jsx("span",{className:"achievement-icon",children:e.icon}),e.locked&&s.jsx("div",{className:"lock-overlay",children:"ðŸ”’"})]},e.id||j)):s.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"20px",color:"#888"},children:"Complete activities to unlock achievements!"})})]}),s.jsxs("div",{className:"stats-section",children:[s.jsx("h3",{className:"section-title",children:"ðŸ“Š Your Stats"}),s.jsxs("div",{className:"stats-cards",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-icon",children:"ðŸ”¥"}),s.jsx("span",{className:"stat-value",children:l.streak||0}),s.jsx("span",{className:"stat-label",children:"Day Streak"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-icon",children:"â­"}),s.jsx("span",{className:"stat-value",children:l.totalXP||0}),s.jsx("span",{className:"stat-label",children:"Total XP"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-icon",children:"ðŸ’ª"}),s.jsx("span",{className:"stat-value",children:l.workouts||0}),s.jsx("span",{className:"stat-label",children:"Workouts"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-icon",children:"ðŸ½ï¸"}),s.jsx("span",{className:"stat-value",children:l.meals||0}),s.jsx("span",{className:"stat-label",children:"Meals Logged"})]})]})]})]}),s.jsxs("div",{className:"settings-section",children:[s.jsx("h3",{className:"section-title",children:"âš™ï¸ Quick Access"}),s.jsxs("div",{className:"quick-access-grid",children:[s.jsxs("button",{className:"access-card",onClick:p,children:[s.jsx("span",{className:"access-icon",children:"ðŸ¥"}),s.jsx("span",{className:"access-label",children:"Health Tools"})]}),s.jsxs("button",{className:"access-card",onClick:N,children:[s.jsx("span",{className:"access-icon",children:"ðŸ“Š"}),s.jsx("span",{className:"access-label",children:"Data & Reports"})]}),s.jsxs("button",{className:"access-card",onClick:v,children:[s.jsx("span",{className:"access-icon",children:"ðŸŽ®"}),s.jsx("span",{className:"access-label",children:"Social & Auto"})]}),s.jsxs("button",{className:"access-card",onClick:g,children:[s.jsx("span",{className:"access-icon",children:"ðŸ‘¤"}),s.jsx("span",{className:"access-label",children:"Edit Profile"})]}),s.jsxs("button",{className:"access-card",onClick:k,children:[s.jsx("span",{className:"access-icon",children:"ðŸ“ˆ"}),s.jsx("span",{className:"access-label",children:"Full Stats"})]}),s.jsxs("button",{className:"access-card",onClick:u,children:[s.jsx("span",{className:"access-icon",children:"âš™ï¸"}),s.jsx("span",{className:"access-label",children:"Settings"})]})]})]}),!c?.isPremium&&s.jsx("div",{className:"premium-banner",onClick:()=>r&&r(),children:s.jsxs("div",{className:"premium-content",children:[s.jsx("span",{className:"premium-icon",children:"ðŸ’Ž"}),s.jsxs("div",{className:"premium-text",children:[s.jsx("h4",{className:"premium-title",children:"Upgrade to Premium"}),s.jsx("p",{className:"premium-subtitle",children:"Unlock all features & unlimited access"})]}),s.jsx("span",{className:"premium-arrow",children:"â†’"})]})})]})}export{I as default};

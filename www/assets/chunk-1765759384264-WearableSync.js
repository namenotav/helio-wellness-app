import{r as c,j as e}from"./entry-1765759384261-index.js";const S=({isOpen:u,onClose:o})=>{const[h,m]=c.useState(!1),[t,i]=c.useState([]),[l,r]=c.useState([]),[x,j]=c.useState(null);c.useEffect(()=>{const s=localStorage.getItem("connectedWearables");s&&i(JSON.parse(s))},[]);const p=async()=>{m(!0),r([]);try{await new Promise(a=>setTimeout(a,2e3)),r([{id:"fitbit_001",name:"Fitbit Charge 5",type:"fitbit",battery:75,rssi:-45},{id:"garmin_002",name:"Garmin Forerunner 945",type:"garmin",battery:60,rssi:-52},{id:"apple_003",name:"Apple Watch Series 8",type:"apple",battery:85,rssi:-38},{id:"samsung_004",name:"Galaxy Watch 5",type:"samsung",battery:70,rssi:-50}])}catch{alert("Failed to scan for devices. Please enable Bluetooth.")}finally{m(!1)}},N=async s=>{try{await new Promise(d=>setTimeout(d,1500));const a={...s,connectedAt:new Date().toISOString(),lastSync:new Date().toISOString(),data:{steps:Math.floor(Math.random()*5e3)+5e3,heartRate:Math.floor(Math.random()*30)+70,calories:Math.floor(Math.random()*500)+1500}},n=[...t,a];i(n),localStorage.setItem("connectedWearables",JSON.stringify(n)),r(l.filter(d=>d.id!==s.id)),alert(`âœ“ Connected to ${s.name}`)}catch{alert(`Failed to connect to ${s.name}`)}},y=s=>{if(confirm("Are you sure you want to disconnect this device?")){const a=t.filter(n=>n.id!==s);i(a),localStorage.setItem("connectedWearables",JSON.stringify(a))}},b=async s=>{j(s);try{await new Promise(n=>setTimeout(n,1500));const a=t.map(n=>n.id===s?{...n,lastSync:new Date().toISOString(),data:{steps:Math.floor(Math.random()*5e3)+5e3,heartRate:Math.floor(Math.random()*30)+70,calories:Math.floor(Math.random()*500)+1500}}:n);i(a),localStorage.setItem("connectedWearables",JSON.stringify(a))}catch{alert("Failed to sync device data")}finally{j(null)}},v=s=>({fitbit:"âŒš",garmin:"ðŸƒ",apple:"ðŸŽ",samsung:"ðŸ“±"})[s]||"âŒš",g=s=>(s>-50||s>-70,"ðŸ“¶");return u?e.jsx("div",{className:"wearable-overlay",onClick:o,children:e.jsxs("div",{className:"wearable-modal",onClick:s=>s.stopPropagation(),children:[e.jsx("button",{className:"wearable-close",onClick:o,children:"âœ•"}),e.jsxs("div",{className:"wearable-header",children:[e.jsx("div",{className:"wearable-icon",children:"âŒš"}),e.jsx("h2",{children:"Wearable Devices"}),e.jsx("p",{children:"Connect and sync your fitness trackers"})]}),e.jsxs("div",{className:"wearable-content",children:[e.jsxs("div",{className:"connected-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"ðŸ”— Connected Devices"}),e.jsx("span",{className:"device-count",children:t.length})]}),t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"No devices connected yet"}),e.jsx("span",{children:"ðŸ‘‡ Scan to find devices"})]}):e.jsx("div",{className:"devices-list",children:t.map(s=>e.jsxs("div",{className:"device-card connected",children:[e.jsxs("div",{className:"device-info",children:[e.jsx("div",{className:"device-icon-large",children:v(s.type)}),e.jsxs("div",{className:"device-details",children:[e.jsx("h4",{children:s.name}),e.jsxs("div",{className:"device-meta",children:[e.jsxs("span",{children:["ðŸ”‹ ",s.battery,"%"]}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:new Date(s.lastSync).toLocaleTimeString()})]})]})]}),e.jsxs("div",{className:"device-data",children:[e.jsxs("div",{className:"data-item",children:[e.jsx("span",{className:"data-icon",children:"ðŸ‘Ÿ"}),e.jsx("span",{className:"data-value",children:s.data.steps})]}),e.jsxs("div",{className:"data-item",children:[e.jsx("span",{className:"data-icon",children:"â¤ï¸"}),e.jsx("span",{className:"data-value",children:s.data.heartRate})]}),e.jsxs("div",{className:"data-item",children:[e.jsx("span",{className:"data-icon",children:"ðŸ”¥"}),e.jsx("span",{className:"data-value",children:s.data.calories})]})]}),e.jsxs("div",{className:"device-actions",children:[e.jsxs("button",{className:"action-btn sync-btn",onClick:()=>b(s.id),disabled:x===s.id,children:[x===s.id?"â³":"ðŸ”„"," Sync"]}),e.jsx("button",{className:"action-btn disconnect-btn",onClick:()=>y(s.id),children:"âœ• Disconnect"})]})]},s.id))})]}),e.jsxs("div",{className:"scan-section",children:[e.jsx("button",{className:"scan-btn",onClick:p,disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"scan-spinner",children:"ðŸ“¡"}),"Scanning..."]}):e.jsx(e.Fragment,{children:"ðŸ” Scan for Devices"})}),l.length>0&&e.jsxs("div",{className:"available-devices",children:[e.jsx("h3",{children:"ðŸ“¡ Available Devices"}),e.jsx("div",{className:"devices-list",children:l.map(s=>e.jsxs("div",{className:"device-card available",children:[e.jsxs("div",{className:"device-info",children:[e.jsx("div",{className:"device-icon-small",children:v(s.type)}),e.jsxs("div",{className:"device-details",children:[e.jsx("h4",{children:s.name}),e.jsx("div",{className:"device-meta",children:e.jsxs("span",{children:[g(s.rssi)," Signal: ",s.rssi,"dBm"]})})]})]}),e.jsx("button",{className:"connect-btn",onClick:()=>N(s),children:"+ Connect"})]},s.id))})]})]}),e.jsxs("div",{className:"help-section",children:[e.jsx("h4",{children:"ðŸ’¡ Tips"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Make sure Bluetooth is enabled on your device"}),e.jsx("li",{children:"Keep your wearable close during pairing"}),e.jsx("li",{children:"Some devices require app authorization first"}),e.jsx("li",{children:"Auto-sync runs every 15 minutes when connected"})]})]})]})]})}):null};export{S as default};

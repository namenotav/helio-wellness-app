import{r,j as s}from"./entry-1765759384261-index.js";function f({onChallengeComplete:n}){const[o,i]=r.useState([]);r.useEffect(()=>{p()},[]);const p=()=>{const e=new Date().toDateString(),a=localStorage.getItem("challenges_date");let t;a===e?t=JSON.parse(localStorage.getItem("daily_challenges")||"[]"):(t=d(),localStorage.setItem("daily_challenges",JSON.stringify(t)),localStorage.setItem("challenges_date",e)),i(t)},d=()=>[{id:"steps_5k",icon:"ðŸ‘Ÿ",title:"Walk 5,000 Steps",progress:0,goal:5e3,xp:25,type:"steps"},{id:"log_meal",icon:"ðŸ½ï¸",title:"Log 3 Meals",progress:0,goal:3,xp:20,type:"meals"},{id:"water_8",icon:"ðŸ’§",title:"Drink 8 Cups Water",progress:0,goal:8,xp:15,type:"water"},{id:"workout_15",icon:"ðŸ’ª",title:"15 Min Workout",progress:0,goal:15,xp:30,type:"workout"},{id:"meditate",icon:"ðŸ§˜",title:"Meditate 10 Min",progress:0,goal:10,xp:25,type:"meditation"},{id:"scan_food",icon:"ðŸ“¸",title:"Scan 5 Food Items",progress:0,goal:5,xp:20,type:"scans"},{id:"voice_chat",icon:"ðŸŽ¤",title:"Chat with AI Coach",progress:0,goal:1,xp:15,type:"voice"},{id:"social_battle",icon:"âš”ï¸",title:"Start 1 Battle",progress:0,goal:1,xp:25,type:"battle"}].sort(()=>.5-Math.random()).slice(0,3).map(t=>({...t,completed:!1})),h=(e,a=1)=>{const t=o.map(l=>{if(l.id===e){const c=Math.min(l.progress+a,l.goal),g=c>=l.goal;if(g&&!l.completed){const x=parseInt(localStorage.getItem("user_xp")||"0");localStorage.setItem("user_xp",(x+l.xp).toString()),n&&n(l.xp)}return{...l,progress:c,completed:g}}return l});i(t),localStorage.setItem("daily_challenges",JSON.stringify(t))};r.useEffect(()=>{window.updateDailyChallenge=h},[o]);const m=e=>e.progress/e.goal*100;return s.jsxs("div",{className:"daily-challenges",children:[s.jsxs("div",{className:"challenges-header",children:[s.jsx("span",{className:"challenges-icon",children:"ðŸŽ¯"}),s.jsx("h3",{className:"challenges-title",children:"Daily Challenges"})]}),s.jsx("div",{className:"challenges-list",children:o.map(e=>s.jsxs("div",{className:`challenge-item ${e.completed?"completed":""}`,children:[s.jsx("span",{className:"challenge-icon",children:e.icon}),s.jsxs("div",{className:"challenge-content",children:[s.jsxs("div",{className:"challenge-info",children:[s.jsx("span",{className:"challenge-title",children:e.title}),s.jsxs("span",{className:"challenge-xp",children:["+",e.xp," XP"]})]}),s.jsx("div",{className:"challenge-progress-bar",children:s.jsx("div",{className:"challenge-progress-fill",style:{width:`${m(e)}%`}})}),s.jsxs("span",{className:"challenge-counter",children:[e.progress," / ",e.goal]})]}),e.completed&&s.jsx("span",{className:"challenge-check",children:"âœ“"})]},e.id))})]})}export{f as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/entry-1765887266798-index.js","assets/asset-1765887267361-index.css","assets/chunk-1765887267165-sleepService.js","assets/chunk-1765887267153-workoutService.js"])))=>i.map(i=>d[i]);
import{r as i,j as e,_ as p}from"./entry-1765887266798-index.js";function O({isOpen:f,onClose:u}){const[m,s]=i.useState(null),[k,L]=i.useState(0),[c,v]=i.useState(""),[x,N]=i.useState(3),[l,b]=i.useState(""),[n,y]=i.useState(""),[T,I]=i.useState(""),S=(a,o)=>{if(!a||!o)return 0;const t={Running:11,Cycling:10,Swimming:12,Weights:7,Yoga:3,HIIT:13,Walking:5,Sports:9,Other:7}[a]||7;return Math.round(o*t)};if(!f)return null;const h=async a=>{console.log("ðŸ’§ [QuickLog] Logging water:",a,"ml");const{default:o}=await p(async()=>{const{default:t}=await import("./entry-1765887266798-index.js").then(d=>d.A);return{default:t}},__vite__mapDeps([0,1])),r=await o.addIntake(a);console.log("âœ… [QuickLog] Water logged successfully:",r),L(t=>t+a);try{const{default:t}=await p(async()=>{const{default:g}=await import("./entry-1765887266798-index.js").then(j=>j.F);return{default:g}},__vite__mapDeps([0,1])),d=JSON.parse(localStorage.getItem("waterLog")||"[]"),w=new Date().toISOString().split("T")[0],W=d.filter(g=>g.date===w).reduce((g,j)=>g+(j.cups||1),0);await t.logActivity("water",{cups:1,dailyTotal:W})}catch(t){console.error("âŒ [GAMIFICATION] Failed to log water activity:",t)}window.dispatchEvent(new Event("quickLogUpdated")),setTimeout(()=>{s(null),u()},500)},_=async()=>{if(!c)return;console.log("ðŸ˜´ [QuickLog] Logging sleep:",c,"hours, quality:",x);const{default:a}=await p(async()=>{const{default:r}=await import("./chunk-1765887267165-sleepService.js");return{default:r}},__vite__mapDeps([2,0,1])),o=await a.logSleep({hours:parseFloat(c),duration:parseFloat(c),quality:x,date:new Date().toISOString().split("T")[0]});console.log("âœ… [QuickLog] Sleep logged successfully:",o),window.dispatchEvent(new Event("quickLogUpdated")),v(""),N(3),s(null),u()},C=async()=>{if(!l||!n)return;const a=S(l,parseInt(n));console.log("ðŸ’ª [QuickLog] Logging workout:",l,n,"min",a,"cal");const{default:o}=await p(async()=>{const{default:t}=await import("./chunk-1765887267153-workoutService.js");return{default:t}},__vite__mapDeps([3,0,1])),r=await o.logWorkout({type:l,activity:l,duration:parseInt(n),calories:a,date:new Date().toISOString().split("T")[0]});console.log("âœ… [QuickLog] Workout logged successfully:",r);try{const{default:t}=await p(async()=>{const{default:d}=await import("./entry-1765887266798-index.js").then(w=>w.F);return{default:d}},__vite__mapDeps([0,1]));await t.logActivity("workout")}catch(t){console.error("âŒ [GAMIFICATION] Failed to log workout activity:",t)}window.dispatchEvent(new Event("quickLogUpdated")),b(""),y(""),I(""),s(null),u()};return e.jsx("div",{className:"quick-log-overlay",onClick:u,children:e.jsxs("div",{className:"quick-log-modal",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"quick-log-header",children:[e.jsx("h2",{children:"âš¡ Quick Log"}),e.jsx("button",{className:"close-btn",onClick:u,children:"Ã—"})]}),m?e.jsxs(e.Fragment,{children:[m==="water"&&e.jsxs("div",{className:"log-form",children:[e.jsx("h3",{children:"ðŸ’§ Log Water Intake"}),e.jsx("p",{className:"log-description",children:"How much water did you drink?"}),e.jsxs("div",{className:"water-buttons",children:[e.jsxs("button",{className:"water-btn",onClick:()=>h(200),children:[e.jsx("span",{className:"water-amount",children:"200ml"}),e.jsx("span",{className:"water-label",children:"Cup"})]}),e.jsxs("button",{className:"water-btn",onClick:()=>h(250),children:[e.jsx("span",{className:"water-amount",children:"250ml"}),e.jsx("span",{className:"water-label",children:"Glass"})]}),e.jsxs("button",{className:"water-btn",onClick:()=>h(500),children:[e.jsx("span",{className:"water-amount",children:"500ml"}),e.jsx("span",{className:"water-label",children:"Bottle"})]}),e.jsxs("button",{className:"water-btn",onClick:()=>h(1e3),children:[e.jsx("span",{className:"water-amount",children:"1L"}),e.jsx("span",{className:"water-label",children:"Large"})]})]}),k>0&&e.jsxs("div",{className:"success-message",children:["âœ… Logged ",k,"ml today!"]}),e.jsx("button",{className:"back-btn",onClick:()=>s(null),children:"â† Back"})]}),m==="sleep"&&e.jsxs("div",{className:"log-form",children:[e.jsx("h3",{children:"ðŸ˜´ Log Sleep"}),e.jsx("p",{className:"log-description",children:"How was your sleep last night?"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hours Slept"}),e.jsx("input",{type:"number",step:"0.5",min:"0",max:"24",value:c,onChange:a=>v(a.target.value),placeholder:"e.g. 7.5",className:"sleep-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sleep Quality"}),e.jsx("div",{className:"quality-stars",children:[1,2,3,4,5].map(a=>e.jsx("button",{className:`star-btn ${x>=a?"active":""}`,onClick:()=>N(a),children:"â­"},a))})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"back-btn",onClick:()=>s(null),children:"â† Back"}),e.jsx("button",{className:"submit-btn",onClick:_,disabled:!c,children:"Save Sleep"})]})]}),m==="workout"&&e.jsxs("div",{className:"log-form",children:[e.jsx("h3",{children:"ðŸ’ª Log Workout"}),e.jsx("p",{className:"log-description",children:"What did you do today?"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Workout Type"}),e.jsxs("select",{value:l,onChange:a=>b(a.target.value),className:"workout-select",children:[e.jsx("option",{value:"",children:"Select type..."}),e.jsx("option",{value:"Running",children:"ðŸƒ Running"}),e.jsx("option",{value:"Cycling",children:"ðŸš´ Cycling"}),e.jsx("option",{value:"Swimming",children:"ðŸŠ Swimming"}),e.jsx("option",{value:"Weights",children:"ðŸ‹ï¸ Weights"}),e.jsx("option",{value:"Yoga",children:"ðŸ§˜ Yoga"}),e.jsx("option",{value:"HIIT",children:"ðŸ¥Š HIIT"}),e.jsx("option",{value:"Walking",children:"ðŸš¶ Walking"}),e.jsx("option",{value:"Sports",children:"âš½ Sports"}),e.jsx("option",{value:"Other",children:"ðŸ’ª Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration (minutes)"}),e.jsx("input",{type:"number",min:"1",value:n,onChange:a=>y(a.target.value),placeholder:"e.g. 30",className:"workout-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Calories (auto-calculated)"}),e.jsx("input",{type:"number",min:"0",value:S(l,parseInt(n)||0),readOnly:!0,placeholder:"Select type and duration",className:"workout-input",style:{background:"rgba(255, 255, 255, 0.05)",cursor:"not-allowed"}})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"back-btn",onClick:()=>s(null),children:"â† Back"}),e.jsx("button",{className:"submit-btn",onClick:C,disabled:!l||!n,children:"Save Workout"})]})]})]}):e.jsxs("div",{className:"quick-log-options",children:[e.jsxs("button",{className:"log-option water",onClick:()=>s("water"),children:[e.jsx("span",{className:"log-icon",children:"ðŸ’§"}),e.jsx("span",{className:"log-label",children:"Log Water"})]}),e.jsxs("button",{className:"log-option sleep",onClick:()=>s("sleep"),children:[e.jsx("span",{className:"log-icon",children:"ðŸ˜´"}),e.jsx("span",{className:"log-label",children:"Log Sleep"})]}),e.jsxs("button",{className:"log-option workout",onClick:()=>s("workout"),children:[e.jsx("span",{className:"log-icon",children:"ðŸ’ª"}),e.jsx("span",{className:"log-label",children:"Log Workout"})]})]})]})})}export{O as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/entry-1765759384261-index.js","assets/asset-1765759384970-index.css","assets/chunk-1765759384728-sleepService.js","assets/chunk-1765759384716-workoutService.js"])))=>i.map(i=>d[i]);
import{r as i,j as e,_ as m}from"./entry-1765759384261-index.js";function I({isOpen:N,onClose:u}){const[d,a]=i.useState(null),[h,b]=i.useState(0),[c,x]=i.useState(""),[p,j]=i.useState(3),[l,k]=i.useState(""),[o,w]=i.useState(""),[C,S]=i.useState(""),v=(s,t)=>{if(!s||!t)return 0;const n={Running:11,Cycling:10,Swimming:12,Weights:7,Yoga:3,HIIT:13,Walking:5,Sports:9,Other:7}[s]||7;return Math.round(t*n)};if(!N)return null;const g=async s=>{console.log("ðŸ’§ [QuickLog] Logging water:",s,"ml");const{default:t}=await m(async()=>{const{default:n}=await import("./entry-1765759384261-index.js").then(f=>f.A);return{default:n}},__vite__mapDeps([0,1])),r=await t.addIntake(s);console.log("âœ… [QuickLog] Water logged successfully:",r),b(n=>n+s),window.dispatchEvent(new Event("quickLogUpdated")),setTimeout(()=>{a(null),u()},500)},y=async()=>{if(!c)return;console.log("ðŸ˜´ [QuickLog] Logging sleep:",c,"hours, quality:",p);const{default:s}=await m(async()=>{const{default:r}=await import("./chunk-1765759384728-sleepService.js");return{default:r}},__vite__mapDeps([2,0,1])),t=await s.logSleep({hours:parseFloat(c),duration:parseFloat(c),quality:p,date:new Date().toISOString().split("T")[0]});console.log("âœ… [QuickLog] Sleep logged successfully:",t),window.dispatchEvent(new Event("quickLogUpdated")),x(""),j(3),a(null),u()},L=async()=>{if(!l||!o)return;const s=v(l,parseInt(o));console.log("ðŸ’ª [QuickLog] Logging workout:",l,o,"min",s,"cal");const{default:t}=await m(async()=>{const{default:n}=await import("./chunk-1765759384716-workoutService.js");return{default:n}},__vite__mapDeps([3,0,1])),r=await t.logWorkout({type:l,activity:l,duration:parseInt(o),calories:s,date:new Date().toISOString().split("T")[0]});console.log("âœ… [QuickLog] Workout logged successfully:",r),window.dispatchEvent(new Event("quickLogUpdated")),k(""),w(""),S(""),a(null),u()};return e.jsx("div",{className:"quick-log-overlay",onClick:u,children:e.jsxs("div",{className:"quick-log-modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"quick-log-header",children:[e.jsx("h2",{children:"âš¡ Quick Log"}),e.jsx("button",{className:"close-btn",onClick:u,children:"Ã—"})]}),d?e.jsxs(e.Fragment,{children:[d==="water"&&e.jsxs("div",{className:"log-form",children:[e.jsx("h3",{children:"ðŸ’§ Log Water Intake"}),e.jsx("p",{className:"log-description",children:"How much water did you drink?"}),e.jsxs("div",{className:"water-buttons",children:[e.jsxs("button",{className:"water-btn",onClick:()=>g(200),children:[e.jsx("span",{className:"water-amount",children:"200ml"}),e.jsx("span",{className:"water-label",children:"Cup"})]}),e.jsxs("button",{className:"water-btn",onClick:()=>g(250),children:[e.jsx("span",{className:"water-amount",children:"250ml"}),e.jsx("span",{className:"water-label",children:"Glass"})]}),e.jsxs("button",{className:"water-btn",onClick:()=>g(500),children:[e.jsx("span",{className:"water-amount",children:"500ml"}),e.jsx("span",{className:"water-label",children:"Bottle"})]}),e.jsxs("button",{className:"water-btn",onClick:()=>g(1e3),children:[e.jsx("span",{className:"water-amount",children:"1L"}),e.jsx("span",{className:"water-label",children:"Large"})]})]}),h>0&&e.jsxs("div",{className:"success-message",children:["âœ… Logged ",h,"ml today!"]}),e.jsx("button",{className:"back-btn",onClick:()=>a(null),children:"â† Back"})]}),d==="sleep"&&e.jsxs("div",{className:"log-form",children:[e.jsx("h3",{children:"ðŸ˜´ Log Sleep"}),e.jsx("p",{className:"log-description",children:"How was your sleep last night?"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hours Slept"}),e.jsx("input",{type:"number",step:"0.5",min:"0",max:"24",value:c,onChange:s=>x(s.target.value),placeholder:"e.g. 7.5",className:"sleep-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sleep Quality"}),e.jsx("div",{className:"quality-stars",children:[1,2,3,4,5].map(s=>e.jsx("button",{className:`star-btn ${p>=s?"active":""}`,onClick:()=>j(s),children:"â­"},s))})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"back-btn",onClick:()=>a(null),children:"â† Back"}),e.jsx("button",{className:"submit-btn",onClick:y,disabled:!c,children:"Save Sleep"})]})]}),d==="workout"&&e.jsxs("div",{className:"log-form",children:[e.jsx("h3",{children:"ðŸ’ª Log Workout"}),e.jsx("p",{className:"log-description",children:"What did you do today?"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Workout Type"}),e.jsxs("select",{value:l,onChange:s=>k(s.target.value),className:"workout-select",children:[e.jsx("option",{value:"",children:"Select type..."}),e.jsx("option",{value:"Running",children:"ðŸƒ Running"}),e.jsx("option",{value:"Cycling",children:"ðŸš´ Cycling"}),e.jsx("option",{value:"Swimming",children:"ðŸŠ Swimming"}),e.jsx("option",{value:"Weights",children:"ðŸ‹ï¸ Weights"}),e.jsx("option",{value:"Yoga",children:"ðŸ§˜ Yoga"}),e.jsx("option",{value:"HIIT",children:"ðŸ¥Š HIIT"}),e.jsx("option",{value:"Walking",children:"ðŸš¶ Walking"}),e.jsx("option",{value:"Sports",children:"âš½ Sports"}),e.jsx("option",{value:"Other",children:"ðŸ’ª Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration (minutes)"}),e.jsx("input",{type:"number",min:"1",value:o,onChange:s=>w(s.target.value),placeholder:"e.g. 30",className:"workout-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Calories (auto-calculated)"}),e.jsx("input",{type:"number",min:"0",value:v(l,parseInt(o)||0),readOnly:!0,placeholder:"Select type and duration",className:"workout-input",style:{background:"rgba(255, 255, 255, 0.05)",cursor:"not-allowed"}})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"back-btn",onClick:()=>a(null),children:"â† Back"}),e.jsx("button",{className:"submit-btn",onClick:L,disabled:!l||!o,children:"Save Workout"})]})]})]}):e.jsxs("div",{className:"quick-log-options",children:[e.jsxs("button",{className:"log-option water",onClick:()=>a("water"),children:[e.jsx("span",{className:"log-icon",children:"ðŸ’§"}),e.jsx("span",{className:"log-label",children:"Log Water"})]}),e.jsxs("button",{className:"log-option sleep",onClick:()=>a("sleep"),children:[e.jsx("span",{className:"log-icon",children:"ðŸ˜´"}),e.jsx("span",{className:"log-label",children:"Log Sleep"})]}),e.jsxs("button",{className:"log-option workout",onClick:()=>a("workout"),children:[e.jsx("span",{className:"log-icon",children:"ðŸ’ª"}),e.jsx("span",{className:"log-label",children:"Log Workout"})]})]})]})})}export{I as default};

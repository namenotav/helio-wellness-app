import{k as i}from"./entry-1765888035645-index.js";const s=i("StepCounter");class r{constructor(){this.isAvailable=!1,this.isRunning=!1,this.stepCount=0,this.listeners=[]}async initialize(){try{try{(await s.requestPermission()).granted}catch{}const e=await s.isAvailable();return this.isAvailable=e.available,this.isAvailable?(await s.addListener("stepCountUpdate",t=>{this.stepCount=t.steps,this.notifyListeners(t.steps),this.stepCount%10}),!0):!1}catch{return!1}}async start(){if(!this.isAvailable)throw new Error("Step counter not available");try{return await s.start(),this.isRunning=!0,!0}catch(e){throw e}}async stop(){if(this.isRunning)try{await s.stop(),this.isRunning=!1}catch{}}async getStepCount(){try{return(await s.getStepCount()).steps}catch{return 0}}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}notifyListeners(e){this.listeners.forEach(t=>{try{t(e)}catch{}})}}const f=new r;export{f as default};

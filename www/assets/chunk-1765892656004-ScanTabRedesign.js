import{r as n,j as a}from"./entry-1765892656001-index.js";import{u as N}from"./chunk-1765892656569-PointsPopup.js";function y({onOpenFoodScanner:i,onOpenARScanner:l,onOpenBarcodeScanner:o,onOpenRepCounter:d}){const{addPoints:m,PopupsRenderer:g}=N(),[t,p]=n.useState({scannedToday:0,totalScans:0,caloriesTracked:0}),[r,h]=n.useState([]);n.useEffect(()=>{x(),j()},[]);const x=()=>{const s=parseInt(localStorage.getItem("scans_today")||"0"),e=parseInt(localStorage.getItem("total_scans")||"0"),c=parseInt(localStorage.getItem("calories_tracked")||"0");p({scannedToday:s,totalScans:e,caloriesTracked:c})},j=()=>{const s=localStorage.getItem("recent_scans");s&&h(JSON.parse(s).slice(0,5))},b=s=>{m(5,{x:50,y:40}),window.updateDailyChallenge&&window.updateDailyChallenge("scan_food",1);const e=parseInt(localStorage.getItem("scans_today")||"0");localStorage.setItem("scans_today",(e+1).toString());const c=parseInt(localStorage.getItem("total_scans")||"0");switch(localStorage.setItem("total_scans",(c+1).toString()),s.id){case"food":i&&i();break;case"barcode":o&&o();break;case"ar_body":l&&l();break;case"rep_counter":d&&d();break;default:alert(`${s.label} coming soon!`)}},f=[{id:"food",icon:"ðŸ½ï¸",label:"Food Scanner",description:"Identify meals",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{id:"barcode",icon:"ðŸ“Š",label:"Barcode",description:"Scan labels",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},{id:"ar_body",icon:"ðŸ“¸",label:"Body Scanner",description:"Track progress",gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},{id:"posture",icon:"ðŸ§",label:"Posture Check",description:"AI analysis",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"meal_photo",icon:"ðŸ“·",label:"Meal Photo",description:"Log instantly",gradient:"linear-gradient(135deg, #ffd93d 0%, #ff6b6b 100%)"},{id:"rep_counter",icon:"ðŸ’ª",label:"Rep Counter",description:"AI workout",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}];return a.jsxs("div",{className:"scan-tab-redesign",children:[a.jsx(g,{}),a.jsxs("div",{className:"scan-stats-card",children:[a.jsx("h3",{className:"section-title",children:"ðŸ“¸ Scan Stats"}),a.jsxs("div",{className:"scan-stats-grid",children:[a.jsxs("div",{className:"scan-stat-item",children:[a.jsx("span",{className:"scan-stat-value",children:t.scannedToday}),a.jsx("span",{className:"scan-stat-label",children:"Scanned Today"})]}),a.jsxs("div",{className:"scan-stat-item",children:[a.jsx("span",{className:"scan-stat-value",children:t.totalScans}),a.jsx("span",{className:"scan-stat-label",children:"Total Scans"})]}),a.jsxs("div",{className:"scan-stat-item",children:[a.jsx("span",{className:"scan-stat-value",children:t.caloriesTracked}),a.jsx("span",{className:"scan-stat-label",children:"Calories Tracked"})]})]})]}),a.jsxs("div",{className:"scan-section",children:[a.jsx("h3",{className:"section-title",children:"Scan Options"}),a.jsx("div",{className:"scan-options-grid",children:f.map((s,e)=>a.jsxs("button",{className:"scan-option-button",style:{background:s.gradient},onClick:()=>b(s),children:[a.jsx("span",{className:"scan-option-icon",children:s.icon}),a.jsx("h4",{className:"scan-option-label",children:s.label}),a.jsx("p",{className:"scan-option-description",children:s.description})]},e))})]}),r.length>0&&a.jsxs("div",{className:"recent-scans-section",children:[a.jsx("h3",{className:"section-title",children:"Recent Scans"}),a.jsx("div",{className:"recent-scans-list",children:r.map((s,e)=>a.jsxs("div",{className:"scan-item",children:[a.jsx("div",{className:"scan-item-icon",children:s.icon||"ðŸ“·"}),a.jsxs("div",{className:"scan-item-content",children:[a.jsx("span",{className:"scan-item-name",children:s.name||"Unknown Item"}),a.jsx("span",{className:"scan-item-time",children:s.time||"Just now"})]}),a.jsxs("span",{className:"scan-item-calories",children:[s.calories||"0"," cal"]})]},e))})]})]})}export{y as default};

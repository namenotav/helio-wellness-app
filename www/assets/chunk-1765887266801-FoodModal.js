import{r as s,j as e,a as W,b as h,f as Y}from"./entry-1765887266798-index.js";import z from"./chunk-1765887266800-FoodScanner.js";import"./chunk-1765887267004-aiVisionService.js";import"./chunk-1765887267003-index.js";/* empty css                                */function X({onClose:m}){const[l,g]=s.useState(""),[o,x]=s.useState(1),[c,j]=s.useState(""),[p,v]=s.useState(""),[n,d]=s.useState([{name:"",quantity:"",unit:""}]),[u,f]=s.useState(""),[b,r]=s.useState(""),[S,w]=s.useState(""),[I,F]=s.useState(!1),[T,R]=s.useState(!1),[M,P]=s.useState(!1),[O,A]=s.useState(!1),[D,V]=s.useState(""),[q,G]=s.useState(""),[H,B]=s.useState(""),[E,L]=s.useState(""),[C,k]=s.useState(!1),U=["Breakfast","Lunch","Dinner","Snack","Dessert","Beverage","Appetizer","Salad","Soup","Main Course","Side Dish","Other"],_=["American","Italian","Chinese","Japanese","Mexican","Indian","Thai","Greek","French","Mediterranean","Korean","Vietnamese","Middle Eastern","Caribbean","Spanish","German","British","Other"],$=["cup","tbsp","tsp","oz","lb","g","kg","ml","l","piece","slice","clove","pinch","dash","to taste"],J=()=>{d([...n,{name:"",quantity:"",unit:""}])},K=a=>{n.length>1&&d(n.filter((i,t)=>t!==a))},y=(a,i,t)=>{const N=[...n];N[a][i]=t,d(N)},Q=async()=>{if(!l.trim()){h("âŒ Please enter a recipe name","error");return}if(n.filter(a=>a.name.trim()).length===0){h("âŒ Please add at least one ingredient","error");return}if(!u.trim()){h("âŒ Please enter cooking instructions","error");return}k(!0);try{const a=W.getCurrentUser();if(!a){h("âŒ Please log in to save recipes","error"),k(!1);return}const i={name:l.trim(),servings:parseInt(o)||1,prepTime:c.trim(),cookTime:p.trim(),ingredients:n.filter(N=>N.name.trim()),instructions:u.trim(),category:b||"Other",cuisine:S||"Other",dietary:{halal:I,vegetarian:T,vegan:M,glutenFree:O},nutrition:{calories:parseInt(D)||0,protein:parseFloat(q)||0,carbs:parseFloat(H)||0,fat:parseFloat(E)||0},author:{uid:a.id,email:a.email||"Anonymous",name:a.name||"Anonymous"},createdAt:new Date().toISOString(),approved:!1,likes:0,views:0};await Y.save("recipes",i,a.id);const t=`${a.id}_${Date.now()}`;await Y.saveToCollection("communityRecipes",t,i),h("âœ… Recipe saved successfully!","success"),g(""),x(1),j(""),v(""),d([{name:"",quantity:"",unit:""}]),f(""),r(""),w(""),F(!1),R(!1),P(!1),A(!1),V(""),G(""),B(""),L(""),setTimeout(()=>{m()},1500)}catch(a){console.error("Error saving recipe:",a),h("âŒ Failed to save recipe. Please try again.","error")}finally{k(!1)}};return e.jsx("div",{className:"recipe-creator-overlay",children:e.jsxs("div",{className:"recipe-creator",children:[e.jsx("button",{className:"creator-close",onClick:m,children:"âœ•"}),e.jsx("h2",{className:"creator-title",children:"ðŸ‘¨â€ðŸ³ Create Your Recipe"}),e.jsx("p",{className:"creator-subtitle",children:"Share your culinary masterpiece with the community!"}),e.jsxs("div",{className:"creator-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Recipe Name *"}),e.jsx("input",{type:"text",value:l,onChange:a=>g(a.target.value),placeholder:"e.g., Grandma's Apple Pie",maxLength:100})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Servings"}),e.jsx("input",{type:"number",value:o,onChange:a=>x(a.target.value),min:"1",max:"50"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prep Time"}),e.jsx("input",{type:"text",value:c,onChange:a=>j(a.target.value),placeholder:"e.g., 15 min"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cook Time"}),e.jsx("input",{type:"text",value:p,onChange:a=>v(a.target.value),placeholder:"e.g., 30 min"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:b,onChange:a=>r(a.target.value),children:[e.jsx("option",{value:"",children:"Select category"}),U.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cuisine"}),e.jsxs("select",{value:S,onChange:a=>w(a.target.value),children:[e.jsx("option",{value:"",children:"Select cuisine"}),_.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dietary Information"}),e.jsxs("div",{className:"dietary-tags",children:[e.jsxs("label",{className:"tag-checkbox",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:a=>F(a.target.checked)}),e.jsx("span",{children:"ðŸ•Œ Halal"})]}),e.jsxs("label",{className:"tag-checkbox",children:[e.jsx("input",{type:"checkbox",checked:T,onChange:a=>R(a.target.checked)}),e.jsx("span",{children:"ðŸ¥— Vegetarian"})]}),e.jsxs("label",{className:"tag-checkbox",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:a=>P(a.target.checked)}),e.jsx("span",{children:"ðŸŒ± Vegan"})]}),e.jsxs("label",{className:"tag-checkbox",children:[e.jsx("input",{type:"checkbox",checked:O,onChange:a=>A(a.target.checked)}),e.jsx("span",{children:"ðŸŒ¾ Gluten-Free"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Ingredients *"}),n.map((a,i)=>e.jsxs("div",{className:"ingredient-row",children:[e.jsx("input",{type:"text",value:a.name,onChange:t=>y(i,"name",t.target.value),placeholder:"Ingredient name",className:"ingredient-name"}),e.jsx("input",{type:"text",value:a.quantity,onChange:t=>y(i,"quantity",t.target.value),placeholder:"Amount",className:"ingredient-quantity"}),e.jsxs("select",{value:a.unit,onChange:t=>y(i,"unit",t.target.value),className:"ingredient-unit",children:[e.jsx("option",{value:"",children:"Unit"}),$.map(t=>e.jsx("option",{value:t,children:t},t))]}),n.length>1&&e.jsx("button",{type:"button",onClick:()=>K(i),className:"remove-ingredient",children:"âœ•"})]},i)),e.jsx("button",{type:"button",onClick:J,className:"add-ingredient",children:"+ Add Ingredient"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cooking Instructions *"}),e.jsx("textarea",{value:u,onChange:a=>f(a.target.value),placeholder:`1. Preheat oven to 350Â°F
2. Mix dry ingredients...
3. Bake for 30 minutes...`,rows:8})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nutrition Information (per serving)"}),e.jsxs("div",{className:"form-row",children:[e.jsx("input",{type:"number",value:D,onChange:a=>V(a.target.value),placeholder:"Calories",min:"0"}),e.jsx("input",{type:"number",value:q,onChange:a=>G(a.target.value),placeholder:"Protein (g)",min:"0",step:"0.1"}),e.jsx("input",{type:"number",value:H,onChange:a=>B(a.target.value),placeholder:"Carbs (g)",min:"0",step:"0.1"}),e.jsx("input",{type:"number",value:E,onChange:a=>L(a.target.value),placeholder:"Fat (g)",min:"0",step:"0.1"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"save-recipe-btn",onClick:Q,disabled:C,children:C?"â³ Saving...":"âœ… Save Recipe"}),e.jsx("button",{className:"cancel-btn",onClick:m,disabled:C,children:"Cancel"})]})]}),e.jsx("div",{className:"creator-info",children:e.jsx("p",{children:"ðŸ’¡ Your recipe will be saved to your personal collection and submitted to the community database for approval."})})]})})}function ne({isOpen:m,onClose:l}){const[g,o]=s.useState(!1),[x,c]=s.useState(!1),[j,p]=s.useState(!1),[v,n]=s.useState(null),[d,u]=s.useState("usda"),f=[{icon:"ðŸ“¸",title:"Scan Label",desc:"Take photo of nutrition label"},{icon:"ðŸ”",title:"Search Foods",desc:"6M+ foods database"},{icon:"ðŸ•Œ",title:"Halal Scanner",desc:"Check if food is Halal"},{icon:"ðŸ”",title:"Restaurants",desc:"Find nutritious meals near you"},{icon:"ðŸ‘¨â€ðŸ³",title:"Create Recipe",desc:"Build custom meal"}],b=r=>{switch(r){case"Scan Label":n("label"),o(!0);break;case"Search Foods":u("foods"),c(!0);break;case"Halal Scanner":n("halal"),o(!0);break;case"Restaurants":u("restaurants"),c(!0);break;case"Create Recipe":p(!0);break;default:o(!0)}};return m?g?e.jsx(z,{isOpen:!0,onClose:()=>{o(!1),l()},initialMode:v,lockMode:!0}):x?e.jsx(z,{isOpen:!0,onClose:()=>{c(!1),l()},initialMode:"search",lockMode:!0,initialTab:d}):j?e.jsx(X,{onClose:()=>{p(!1),l()}}):e.jsx("div",{className:"modal-overlay",onClick:l,children:e.jsxs("div",{className:"food-modal",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"ðŸ½ï¸ Food Scanner"}),e.jsx("button",{className:"close-btn",onClick:l,children:"âœ•"})]}),e.jsxs("div",{className:"food-hero",children:[e.jsx("div",{className:"hero-icon",children:"ðŸ•"}),e.jsx("h3",{children:"Track Your Nutrition"}),e.jsx("p",{children:"6+ million foods at your fingertips"})]}),e.jsx("div",{className:"food-options-list",children:f.map((r,S)=>e.jsxs("button",{className:"food-option-item",onClick:()=>b(r.title),children:[e.jsx("span",{className:"option-icon",children:r.icon}),e.jsxs("div",{className:"option-info",children:[e.jsx("span",{className:"option-title",children:r.title}),e.jsx("span",{className:"option-desc",children:r.desc})]}),e.jsx("span",{className:"option-arrow",children:"â†’"})]},S))}),e.jsx("div",{className:"food-info",children:e.jsx("p",{children:"ðŸ’¡ Scan, search, or browse - we support all major food databases!"})})]})}):null}export{ne as default};
